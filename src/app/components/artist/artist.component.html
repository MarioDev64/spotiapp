<app-loading *ngIf="loading"></app-loading>

<div *ngIf="!loading" class="row">
    <div class="col-md-2 col-lg-2 col-xl-2 col-sm-4 col-4">
        <img class="img-thumbnail img-circle m-auto" [src]="artist.images | noImage" [alt]="artist.name">
    </div>
    <div class="col">
        <p class="a-name">{{artist.name}}</p>
        <p>
            <a class="btn btn-outline-success btn-sm" [href]="artist.external_urls.spotify" target="_blank"><i class="fab fa-spotify"></i> View in Spotify</a>
        </p>
    </div>
    <div class="float-right mr-1">
        <button routerLink="/search" class="btn btn-outline-danger">
            <i class="fas fa-arrow-left "></i> Return
        </button>
    </div>
    <div class="clearfix"></div>
</div>

<div class="row mt-5">
    <div class="col">
        <table class="table">
            <thead>
                <tr>
                    <th><strong>Picture</strong></th>
                    <th><strong>Album</strong></th>
                    <th><strong>Track</strong></th>
                    <th><strong>Preview View</strong></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of topTracks">
                    <td>
                        <img class="img-thumb" [src]="item.album.images | noImage" alt="">
                    </td>
                    <td>
                        {{ item.album.name }}
                    </td>
                    <td>
                        {{ item.name }}
                    </td>
                    <td>
                        <!-- <a href="https://open.spotify.com/embed/album/{{ item.album.id }}"></a> -->
                        <iframe [src]=" item.id  | secureDOM:'https://open.spotify.com/embed/track/'" width="300" height="80" frameborder="0 " allowtransparency="true " allow="encrypted-media"></iframe>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


<!-- <div *ngIf="!loading " class="row ">
    <div class="col ">
        <div class="card " style="width: 100%; ">
            <img class="card-img-top " [src]="artist.images | noImage " alt="Card image cap ">
            <div class="card-body ">
                <p class="card-text d-inline-block " *ngFor="let genre of artist.genres ">
                    <span class="badge badge-pill badge-dark ">{{genre}}</span>
                </p>
                <h5 class="card-title ">{{artist.name}}</h5>
                <p class="card-text "><i class="fas fa-users fa-x3 "></i> {{artist.followers.total | number}}</p>
                <a [href]="artist.external_urls.spotify " class="btn btn-primary d-block ">Search on Spotify</a>
            </div>
        </div>
    </div>
</div> -->